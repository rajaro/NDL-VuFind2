<?php //Don't add START and END comments ?>
<?php if (!empty($data)): ?>
  <div class="truncate-field">
    <?php if (!empty($data['credited'])): ?>
      <?php foreach ($data['credited'] as $index => $author): ?>
        <?=($index > 0 ? '<br> ' : '')?><?=$this->record($this->driver)->renderTemplate('data-contributors-single.phtml', ['author' => $author])?>
      <?php endforeach; ?>
    <?php endif; ?>
    <?php if (!empty($data['uncredited'])): ?>
      <div class="subheading"><?=$this->translate("Uncredited")?></div>
      <?php
      foreach ($data['uncredited'] as $index => $author): ?>
        <?=($index++ > 0 ? '<br> ' : '')?><?=$this->record($this->driver)->renderTemplate('data-contributors-single.phtml', ['author' => $author, 'description' => $author['description'] ?? ''])?>
      <?php endforeach; ?>
    <?php endif; ?>
    <?php if (!empty($data['ensembles'])): ?>
      <div class="subheading"><?=$this->translate("Ensembles")?></div>
      <?php
      foreach ($data['ensembles'] as $index => $author): ?>
        <?=($index++ > 0 ? '<br> ' : '')?><?=$this->record($this->driver)->renderTemplate('data-contributors-single.phtml', ['author' => $author])?>
      <?php endforeach; ?>
    <?php endif; ?>
  </div>
<?php endif; ?>
