<?php
  $linkClasses = $this->classes;
  if ($this->authorityLink) {
    $linkClasses[] = 'authority-link';
  }
  $linkClasses = implode(' ', array_map([$this, 'escapeHtmlAttr'], $linkClasses));
  $linkClassesAttr = $linkClasses ? " class=\"{$linkClasses}\"" : '';
  $titleAttr = $this->title ? (' title="' . $this->escapeHtmlAttr($this->title) . '"') : '';
  $additionalDataEl = !empty($this->additionalData) ? "<span class=\"authority-additional-data\">{$this->additionalData}</span>" : '';
  $srLabel = $authorityIcon = '';
  $isAuthorityLink = $this->authorityLink && $this->authorityType;
  $srLabel = $this->transEscAttr($this->authorityType);
  $authorityIcon = 'fa-authority-' . $this->escapeHtmlAttr($this->record($this->record)->getFormatClass($this->authorityType));
?>
<a<?=$titleAttr?> href="<?=$this->escapedUrl?>"<?=$linkClassesAttr?>><?php if ($isAuthorityLink): ?><i class="fa <?=$authorityIcon?>"></i><span class="sr-only"><?=$srLabel?></span> <?php endif; ?>
  <span class="authority-label"><?=$this->escapeHtml($this->label)?></span></a><?=$additionalDataEl?>
<?php if (!empty($this->description)): ?>
  <span class="authority-description"><?="({$this->escapeHtml($this->description)})"?></span>
<?php endif; ?>
